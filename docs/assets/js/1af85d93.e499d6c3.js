"use strict";(globalThis.webpackChunktfaction=globalThis.webpackChunktfaction||[]).push([[4256],{675(e,n,i){i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"unreleased/actions","title":"Actions","description":"tfaction is a single action, but it provides various features through the action input.","source":"@site/docs/unreleased/actions.md","sourceDirName":"unreleased","slug":"/unreleased/actions","permalink":"/tfaction/docs/unreleased/actions","draft":false,"unlisted":false,"editUrl":"https://github.com/suzuki-shunsuke/tfaction-docs/edit/main/docs/unreleased/actions.md","tags":[],"version":"current","sidebarPosition":3200,"frontMatter":{"sidebar_position":3200},"sidebar":"tutorialSidebar","previous":{"title":"Workflows","permalink":"/tfaction/docs/unreleased/workflows"},"next":{"title":"tfmigrate","permalink":"/tfaction/docs/unreleased/tfmigrate"}}');var s=i(4848),r=i(8453);const o={sidebar_position:3200},l="Actions",a={},d=[{value:"Common Inputs and Environment Variables",id:"common-inputs-and-environment-variables",level:2},{value:"apply",id:"apply",level:2},{value:"create-drift-issues",id:"create-drift-issues",level:2},{value:"create-follow-up-pr",id:"create-follow-up-pr",level:2},{value:"create-scaffold-pr",id:"create-scaffold-pr",level:2},{value:"export-aws-secrets-manager",id:"export-aws-secrets-manager",level:2},{value:"generate-config-out",id:"generate-config-out",level:2},{value:"get-or-create-drift-issue",id:"get-or-create-drift-issue",level:2},{value:"get-target-config",id:"get-target-config",level:2},{value:"hide-comment",id:"hide-comment",level:2},{value:"list-targets",id:"list-targets",level:2},{value:"pick-out-drift-issues",id:"pick-out-drift-issues",level:2},{value:"plan",id:"plan",level:2},{value:"release-module",id:"release-module",level:2},{value:"scaffold-tfmigrate",id:"scaffold-tfmigrate",level:2},{value:"scaffold-working-dir",id:"scaffold-working-dir",level:2},{value:"set-drift-env",id:"set-drift-env",level:2},{value:"setup",id:"setup",level:2},{value:"sync-drift-issue-description",id:"sync-drift-issue-description",level:2},{value:"terraform-init",id:"terraform-init",level:2},{value:"test",id:"test",level:2},{value:"update-drift-issue",id:"update-drift-issue",level:2},{value:"update-pr-branch",id:"update-pr-branch",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"actions",children:"Actions"})}),"\n",(0,s.jsxs)(n.p,{children:["tfaction is a single action, but it provides various features through the ",(0,s.jsx)(n.code,{children:"action"})," input.\nThis page describes the features available for each ",(0,s.jsx)(n.code,{children:"action"})," input value."]}),"\n",(0,s.jsxs)(n.p,{children:["List of actions: ",(0,s.jsx)(n.a,{href:"https://github.com/suzuki-shunsuke/tfaction/tree/main/src/actions",children:"src/actions"})]}),"\n",(0,s.jsx)(n.h2,{id:"common-inputs-and-environment-variables",children:"Common Inputs and Environment Variables"}),"\n",(0,s.jsx)(n.p,{children:"Some inputs and environment variables are shared across multiple actions."}),"\n",(0,s.jsx)(n.p,{children:"Inputs:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"github_token: GitHub Access Token used to post comments on PRs, etc."}),"\n",(0,s.jsx)(n.li,{children:"github_token_for_github_provider: GitHub Access Token used for the GitHub Provider. Not required if you do not use the GitHub Provider."}),"\n",(0,s.jsx)(n.li,{children:"secrets: JSON containing environment variable names and values set during commands such as terraform init, plan, and apply. Used to pass secrets required for command execution."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Environment variables:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["TFACTION_JOB_TYPE: One of ",(0,s.jsx)(n.code,{children:"terraform"})," | ",(0,s.jsx)(n.code,{children:"tfmigrate"})," | ",(0,s.jsx)(n.code,{children:"scaffold_working_dir"}),". Controls the behavior of the action.","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"terraform"}),": Runs terraform plan or apply"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"tfmigrate"}),": Runs tfmigrate plan or apply"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"TFACTION_SKIP_TERRAFORM"}),"\n",(0,s.jsxs)(n.li,{children:["TFACTION_IS_APPLY: ",(0,s.jsx)(n.code,{children:"true"})," | ",(0,s.jsx)(n.code,{children:"false"}),". Set to ",(0,s.jsx)(n.code,{children:"true"})," in apply workflows and ",(0,s.jsx)(n.code,{children:"false"})," in plan workflows.","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Required to switch between plan-specific and apply-specific configuration."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",metastring:'title="tfaction.yaml"',children:"terraform_plan_config:\n  # plan configuration\n  aws_assume_role_arn: arn:aws:iam::123456789012:role/GitHubActions_Terraform_github_terraform_plan\nterraform_apply_config:\n  # apply configuration\n  aws_assume_role_arn: arn:aws:iam::123456789012:role/GitHubActions_Terraform_github_terraform_apply\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"apply",children:"apply"}),"\n",(0,s.jsx)(n.p,{children:"Runs terraform apply or tfmigrate apply."}),"\n",(0,s.jsx)(n.p,{children:"All inputs are optional."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"github_token"}),"\n",(0,s.jsx)(n.li,{children:"github_token_for_github_provider"}),"\n",(0,s.jsx)(n.li,{children:"secrets"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Environment variables:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"TFACTION_JOB_TYPE"}),"\n",(0,s.jsx)(n.li,{children:"TFACTION_SKIP_TERRAFORM"}),"\n"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"If skip_terraform is enabled, does nothing"}),"\n",(0,s.jsxs)(n.li,{children:["Downloads the plan file from GitHub Artifacts","\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Fails if plan_workflow_name is incorrect"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Runs terraform apply and notifies via tfcmt"}),"\n",(0,s.jsx)(n.li,{children:"If drift detection is enabled, updates the drift issue"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"create-drift-issues",children:"create-drift-issues"}),"\n",(0,s.jsx)(n.p,{children:"Creates or closes drift detection issues to keep them in sync with the list of root modules."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"If drift detection is disabled, does nothing"}),"\n",(0,s.jsxs)(n.li,{children:["Retrieves the list of root modules","\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Excludes root modules where drift detection is disabled"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Retrieves the list of GitHub Issues via the GitHub API"}),"\n",(0,s.jsxs)(n.li,{children:["Synchronizes root modules and issues","\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Creates an issue if one does not exist for a root module"}),"\n",(0,s.jsx)(n.li,{children:"Renames and closes the issue if the root module no longer exists"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"create-follow-up-pr",children:"create-follow-up-pr"}),"\n",(0,s.jsxs)(n.p,{children:["Creates a PR that updates the same root module when apply fails, helping resolve the failure.\nIf ",(0,s.jsx)(n.code,{children:"skip_create_pr"})," is enabled, only creates a commit and branch without creating a PR."]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"If group label is enabled, creates and assigns the group label to the PR"}),"\n",(0,s.jsxs)(n.li,{children:["Creates or updates ",(0,s.jsx)(n.code,{children:".tfaction/failed-prs"})]}),"\n",(0,s.jsxs)(n.li,{children:["If TFACTION_JOB_TYPE is tfmigrate, assigns the tfmigrate label to the new PR","\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"This ensures tfmigrate runs on the new PR"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Creates the follow-up PR"}),"\n",(0,s.jsxs)(n.li,{children:["Comments the follow-up PR URL on the original PR","\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"When using Securefix Action to create a PR, the PR is created asynchronously so the URL is unknown and cannot be commented"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"create-scaffold-pr",children:"create-scaffold-pr"}),"\n",(0,s.jsxs)(n.p,{children:["Creates a PR to add a module or root module. Runs after ",(0,s.jsx)(n.code,{children:"scaffold-working-dir"}),".\nIf ",(0,s.jsx)(n.code,{children:"skip_create_pr"})," is enabled, only creates a commit and branch without creating a PR."]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Retrieves the list of files to commit via git ls-files"}),"\n",(0,s.jsx)(n.li,{children:"Creates the PR"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"export-aws-secrets-manager",children:"export-aws-secrets-manager"}),"\n",(0,s.jsx)(n.h2,{id:"generate-config-out",children:"generate-config-out"}),"\n",(0,s.jsxs)(n.p,{children:["Runs ",(0,s.jsx)(n.code,{children:"terraform plan --generate-config-out"})," to generate code and commits it."]}),"\n",(0,s.jsx)(n.h2,{id:"get-or-create-drift-issue",children:"get-or-create-drift-issue"}),"\n",(0,s.jsx)(n.p,{children:"Creates a drift issue for a specific root module if one does not exist.\nExports the environment variables TFACTION_DRIFT_ISSUE_NUMBER and TFACTION_DRIFT_ISSUE_STATE.\nDoes nothing if drift detection is disabled."}),"\n",(0,s.jsx)(n.h2,{id:"get-target-config",children:"get-target-config"}),"\n",(0,s.jsx)(n.h2,{id:"hide-comment",children:"hide-comment"}),"\n",(0,s.jsx)(n.p,{children:"Hides old comments.\ntfaction embeds metadata as HTML comments in its PR comments and uses this metadata to determine whether each comment should be hidden."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-md",metastring:'title="Metadata format"',children:"\x3c!-- github-comment: { JSON } --\x3e\n"})}),"\n",(0,s.jsx)(n.p,{children:"Inputs:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"if: Condition for hiding comments. Written in CELL."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"list-targets",children:"list-targets"}),"\n",(0,s.jsx)(n.p,{children:"Generates a list of root modules changed in a PR.\nUsed to run CI only on the changed root modules in a monorepo."}),"\n",(0,s.jsx)(n.p,{children:"No configuration is required beyond the action input."}),"\n",(0,s.jsx)(n.p,{children:"The outputs are intended to be used as env, runs-on, and environment in subsequent matrix jobs."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"targets: JSON list of changed root modules and modules"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",metastring:'title="targets"',children:'[\n  {\n    "target": "github/foo",\n    "working_directory": "github/service/foo",\n    "runs_on": "ubuntu-latest",\n    "job_type": "terraform",\n    "environment": "production",\n    "type": "module"\n  }\n]\n'})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["target: Alias for working_directory. By default, same as ",(0,s.jsx)(n.code,{children:"working_directory"})]}),"\n",(0,s.jsxs)(n.li,{children:["runs_on: Job execution environment. Defaults to ",(0,s.jsx)(n.code,{children:"ubuntu-latest"})]}),"\n",(0,s.jsx)(n.li,{children:"environment: GitHub Environments"}),"\n",(0,s.jsxs)(n.li,{children:["type: Working directory type. Set to ",(0,s.jsx)(n.code,{children:"module"})," for modules"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",metastring:'title=".github/workflows/test.yaml"',children:"plan:\n  name: \"plan (${{matrix.target.target}})\" # Different job name per root module\n  timeout-minutes: 60\n  runs-on: ${{matrix.target.runs_on}}\n  environment: ${{matrix.target.environment}}\n  needs: [list]\n  env:\n    TFACTION_TARGET: ${{matrix.target.target}}\n    TFACTION_WORKING_DIR: ${{matrix.target.working_directory}}\n    TFACTION_JOB_TYPE: ${{matrix.target.job_type}}\n  if: \"join(fromJSON(needs.list.outputs.targets), '') != ''\"\n  strategy:\n    fail-fast: false\n    matrix:\n      target: ${{fromJSON(needs.list.outputs.targets)}}\n"})}),"\n",(0,s.jsx)(n.p,{children:"You can customize the settings in tfaction-root.yaml."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",metastring:'title="tfaction-root.yaml"',children:"replace_target:\n  patterns:\n    - regexp: /services/\n      replace: /\ntarget_groups:\n  - working_directory: github/services/**\n    runs_on: ubuntu-slim\n    environment: production\n"})}),"\n",(0,s.jsx)(n.h2,{id:"pick-out-drift-issues",children:"pick-out-drift-issues"}),"\n",(0,s.jsx)(n.p,{children:"Retrieves the list of root modules and their issues for periodic drift detection checks.\nAfter this action retrieves the list, subsequent matrix jobs perform the checks.\nWhen there are many root modules, checking all of them at once is impractical, so it checks the N root modules whose last check time is the oldest.\nSince check results are recorded in the issue each time, the last check time is tracked by the drift issue's updated date.\nAdditionally, only root modules whose last check time is more than N days ago are included."}),"\n",(0,s.jsx)(n.p,{children:"Outputs:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"has_issues: true or false. false if no issues were picked out"}),"\n",(0,s.jsx)(n.li,{children:"issues: List of picked-out issues"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",metastring:'title="issues"',children:'[\n  {\n    "number": 12345,\n    "title": "Issue Title",\n    "target": "Root module target",\n    "state": "closed (issue state)",\n    "runs_on": "runs-on for the subsequent drift detection job"\n  }\n]\n'})}),"\n",(0,s.jsx)(n.p,{children:"Returns empty if drift detection is disabled."}),"\n",(0,s.jsxs)(n.p,{children:["has_issues: ",(0,s.jsx)(n.code,{children:"false"}),"\nissues: ",(0,s.jsx)(n.code,{children:"[]"})]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Retrieves issues via the GitHub API whose title contains ",(0,s.jsx)(n.code,{children:"Terraform Drift"})," and whose update date is older than the threshold","\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Extracts the root module target from the title"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"plan",children:"plan"}),"\n",(0,s.jsx)(n.p,{children:'Runs terraform plan or tfmigrate plan and comments the results on the PR via tfcmt.\nUploads the plan file in both binary and JSON formats to GitHub Artifacts.\nIf configured, runs Conftest against the plan file.\nIf the plan result is not "No Change" on a Renovate PR and the setting is enabled, disables auto-merge.'}),"\n",(0,s.jsx)(n.h2,{id:"release-module",children:"release-module"}),"\n",(0,s.jsxs)(n.p,{children:["Creates a GitHub Tag and Release for a specified module.\nModules are expected to be referenced as GitHub Repository Sources.\nTo manage versions of multiple modules in a monorepo, the version includes the module path with ",(0,s.jsx)(n.code,{children:"/"})," replaced by ",(0,s.jsx)(n.code,{children:"_"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"Inputs:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"module_path: Directory path where the module resides. Relative path from the Git root directory."}),"\n",(0,s.jsxs)(n.li,{children:["version: Module version. A SemVer-compliant string. The actual tag includes the module path with ",(0,s.jsx)(n.code,{children:"/"})," replaced by ",(0,s.jsx)(n.code,{children:"_"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Generated tag: ",(0,s.jsx)(n.code,{children:"module_{module_path with / replaced by _}_{version}"})]}),"\n",(0,s.jsx)(n.h2,{id:"scaffold-tfmigrate",children:"scaffold-tfmigrate"}),"\n",(0,s.jsx)(n.p,{children:"Creates a PR that adds tfmigrate configuration files and migration file scaffolds for a specified root module.\nIf an existing PR is specified, pushes a commit to that PR instead of creating a new one."}),"\n",(0,s.jsx)(n.h2,{id:"scaffold-working-dir",children:"scaffold-working-dir"}),"\n",(0,s.jsxs)(n.p,{children:["Creates a new root module from a template.\nThis action only generates the code.\nRun ",(0,s.jsx)(n.code,{children:"create-scaffold-pr"})," after this action to create the PR."]}),"\n",(0,s.jsx)(n.p,{children:"Environment variables:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"TFACTION_TARGET"}),"\n",(0,s.jsx)(n.li,{children:"TFACTION_WORKING_DIR"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["If ",(0,s.jsx)(n.code,{children:"s3_bucket_name_tfmigrate_history"})," or ",(0,s.jsx)(n.code,{children:"gcs_bucket_name_tfmigrate_history"})," is configured, generates a ",(0,s.jsx)(n.code,{children:".tfmigrate.hcl"})," file.\nTemplate files are processed with Handlebars."]}),"\n",(0,s.jsx)(n.h2,{id:"set-drift-env",children:"set-drift-env"}),"\n",(0,s.jsx)(n.p,{children:"Exports environment variables for drift detection."}),"\n",(0,s.jsx)(n.h2,{id:"setup",children:"setup"}),"\n",(0,s.jsx)(n.p,{children:"The action to run at the beginning of plan and apply jobs."}),"\n",(0,s.jsx)(n.p,{children:"Exported environment variables:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"AQUA_GLOBAL_CONFIG"}),"\n",(0,s.jsx)(n.li,{children:"TFACTION_WORKING_DIR"}),"\n",(0,s.jsx)(n.li,{children:"TFACTION_TARGET"}),"\n",(0,s.jsx)(n.li,{children:"Environment variables configured in tfaction-root.yaml and tfaction.yaml"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Outputs:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"working_directory"}),"\n",(0,s.jsx)(n.li,{children:"providers_lock_opts"}),"\n",(0,s.jsx)(n.li,{children:"enable_tflint"}),"\n",(0,s.jsx)(n.li,{children:"enable_trivy"}),"\n",(0,s.jsx)(n.li,{children:"tflint_fix"}),"\n",(0,s.jsx)(n.li,{children:"terraform_command"}),"\n",(0,s.jsx)(n.li,{children:"template_dir"}),"\n",(0,s.jsx)(n.li,{children:"aws_region"}),"\n",(0,s.jsx)(n.li,{children:"aws_assume_role_arn"}),"\n",(0,s.jsx)(n.li,{children:"aws_role_session_name"}),"\n",(0,s.jsx)(n.li,{children:"gcp_service_account"}),"\n",(0,s.jsx)(n.li,{children:"gcp_workload_identity_provider"}),"\n",(0,s.jsx)(n.li,{children:"gcp_access_token_scopes"}),"\n",(0,s.jsx)(n.li,{children:"gcp_remote_backend_service_account"}),"\n",(0,s.jsx)(n.li,{children:"gcp_remote_backend_workload_identity_provider"}),"\n",(0,s.jsx)(n.li,{children:"s3_bucket_name_tfmigrate_history"}),"\n",(0,s.jsx)(n.li,{children:"gcs_bucket_name_tfmigrate_history"}),"\n",(0,s.jsx)(n.li,{children:"destroy"}),"\n",(0,s.jsx)(n.li,{children:"enable_terraform_docs"}),"\n",(0,s.jsx)(n.li,{children:"accept_change_by_renovate"}),"\n"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Runs ci-info to retrieve PR information. Exports as environment variables and writes to temporary files"}),"\n",(0,s.jsx)(n.li,{children:"Fails if the SHA running the workflow is not the latest head SHA of the PR"}),"\n",(0,s.jsx)(n.li,{children:"Updates the branch if the PR branch is outdated"}),"\n",(0,s.jsx)(n.li,{children:"Assigns root module labels to the PR"}),"\n",(0,s.jsx)(n.li,{children:"Exports settings as environment variables and outputs"}),"\n",(0,s.jsx)(n.li,{children:"Aggregates secrets into JSON and outputs them"}),"\n",(0,s.jsx)(n.li,{children:"If configured, updates aqua-checksums.json"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"sync-drift-issue-description",children:"sync-drift-issue-description"}),"\n",(0,s.jsx)(n.p,{children:"When a comment is posted on a drift detection issue, reflects the comment content in the issue description.\nIntended to run on the issue_comment event.\nThis ensures that the latest results are always visible in the issue description."}),"\n",(0,s.jsx)(n.h2,{id:"terraform-init",children:"terraform-init"}),"\n",(0,s.jsx)(n.p,{children:"Runs terraform init.\nAutomatically generates and updates .terraform.lock.hcl."}),"\n",(0,s.jsx)(n.h2,{id:"test",children:"test"}),"\n",(0,s.jsx)(n.p,{children:"Runs linting, formatting, and documentation generation tools such as terraform validate, terraform fmt, terraform-docs, tflint, and trivy."}),"\n",(0,s.jsx)(n.h2,{id:"update-drift-issue",children:"update-drift-issue"}),"\n",(0,s.jsx)(n.p,{children:"Updates a specified drift issue based on plan or apply results.\nCloses the issue on success; reopens it on failure.\nThis is a separate action so it can always run in apply jobs and drift detection jobs."}),"\n",(0,s.jsx)(n.h2,{id:"update-pr-branch",children:"update-pr-branch"}),"\n",(0,s.jsx)(n.p,{children:"Updates the branch of PRs that modify the same root module after apply runs."})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453(e,n,i){i.d(n,{R:()=>o,x:()=>l});var t=i(6540);const s={},r=t.createContext(s);function o(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);