"use strict";(globalThis.webpackChunktfaction=globalThis.webpackChunktfaction||[]).push([[6157],{3735(e,n,t){t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>f,frontMatter:()=>o,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"unreleased/tfcmt-config","title":"Configuring tfcmt","description":"The PR comments for terraform plan and apply are generated by tfcmt.","source":"@site/docs/unreleased/tfcmt-config.md","sourceDirName":"unreleased","slug":"/unreleased/tfcmt-config","permalink":"/tfaction/docs/unreleased/tfcmt-config","draft":false,"unlisted":false,"editUrl":"https://github.com/suzuki-shunsuke/tfaction-docs/edit/main/docs/unreleased/tfcmt-config.md","tags":[],"version":"current","sidebarPosition":2000,"frontMatter":{"sidebar_position":2000},"sidebar":"tutorialSidebar","previous":{"title":"Notify bot PR events","permalink":"/tfaction/docs/unreleased/notify-bot-pr-event"},"next":{"title":"Configuring Terraform Command Options","permalink":"/tfaction/docs/unreleased/terraform-options"}}');var i=t(4848),r=t(8453);const o={sidebar_position:2e3},s="Configuring tfcmt",l={},c=[{value:"Disabling Labels",id:"disabling-labels",level:2},{value:"Changing Label Suffix and Color",id:"changing-label-suffix-and-color",level:2},{value:"Skipping Comments When There Are No Changes",id:"skipping-comments-when-there-are-no-changes",level:2},{value:"Updating an Existing Comment Instead of Posting a New One",id:"updating-an-existing-comment-instead-of-posting-a-new-one",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"configuring-tfcmt",children:"Configuring tfcmt"})}),"\n",(0,i.jsx)(n.p,{children:"The PR comments for terraform plan and apply are generated by tfcmt.\nFor details on tfcmt configuration, refer to the tfcmt documentation."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://suzuki-shunsuke.github.io/tfcmt/config",children:"https://suzuki-shunsuke.github.io/tfcmt/config"})}),"\n",(0,i.jsx)(n.p,{children:"tfcmt works well without any configuration, but here are a few commonly used settings."}),"\n",(0,i.jsx)(n.h2,{id:"disabling-labels",children:"Disabling Labels"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"terraform:\n  plan:\n    disable_label: false\n"})}),"\n",(0,i.jsx)(n.h2,{id:"changing-label-suffix-and-color",children:"Changing Label Suffix and Color"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'terraform:\n  plan:\n    when_add_or_update_only:\n      label: "{{if .Vars.target}}{{.Vars.target}}/{{end}}update"\n      label_color: 1d76db # blue\n    when_destroy:\n      label: "{{if .Vars.target}}{{.Vars.target}}/{{end}}delete"\n      label_color: d93f0b # red\n    when_no_changes:\n      label: "{{if .Vars.target}}{{.Vars.target}}/{{end}}nop"\n      label_color: 0e8a16 # green\n'})}),"\n",(0,i.jsx)(n.h2,{id:"skipping-comments-when-there-are-no-changes",children:"Skipping Comments When There Are No Changes"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"terraform:\n  plan:\n    when_no_changes:\n      disable_comment: true\n"})}),"\n",(0,i.jsx)(n.h2,{id:"updating-an-existing-comment-instead-of-posting-a-new-one",children:"Updating an Existing Comment Instead of Posting a New One"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"plan_patch: true\n"})})]})}function f(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453(e,n,t){t.d(n,{R:()=>o,x:()=>s});var a=t(6540);const i={},r=a.createContext(i);function o(e){const n=a.useContext(r);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),a.createElement(r.Provider,{value:n},e.children)}}}]);